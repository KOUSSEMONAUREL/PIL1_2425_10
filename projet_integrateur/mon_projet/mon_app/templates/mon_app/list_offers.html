{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Liste des offres - IFRI Covoiturage</title>
  <link rel="stylesheet" href="{% static 'mon_app/style.css' %}">
</head>
<body>
  <header>
    <div class="logo">🚗 IFRI Comotorage</div>
    <nav>
      <ul>
        <li><a href="{% url 'home' %}">Accueil</a></li>
        <li><a href="{% url 'list_offers' %}">Rechercher</a></li>
        <li><a href="{% url 'creer_offre' %}">Publier</a></li>
        <li><a href="{% url 'conversations' %}">Messagerie</a></li>
        <li><a href="{% url 'profil' %}">Profil</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="offers">
      <h2>Offres disponibles</h2>

      {% if offres %}
        <div class="offers-grid">
          {% for offre in offres %}
            <div class="offer-card">
              <h3>{{ offre.utilisateur.first_name }} {{ offre.utilisateur.last_name }}</h3>
              <p><strong>Départ :</strong> {{ offre.depart }}</p>
              <p><strong>Arrivée :</strong> {{ offre.arrivee }}</p>
              <p><strong>Date :</strong> {{ offre.date }}</p>
              <p><strong>Heure :</strong> {{ offre.heure }}</p>
              <p><strong>Places dispo :</strong> {{ offre.places_disponibles }}</p>
              <a href="{% url 'conversation' offre.utilisateur.id %}" class="btn">Contacter</a>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p>Aucune offre disponible pour le moment.</p>
      {% endif %}
    </section>
  </main>
    <div class="top-bar">
        <form method="get" class="search-bar">
            <input type="text" name="q" placeholder="🔍 Rechercher un trajet..." value="{{ query }}">
            <button type="submit">Rechercher</button>
        </form>

        <a href="{% url 'creer_offre' %}" class="btn-nouvelle-offre">➕ Nouvelle offre</a>
    </div>


</body>
</html>
